{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport blogsService from '../services/blogs';\nconst blogSlice = createSlice({\n  name: 'blogs',\n  initialState: [],\n  reducers: {\n    like(state, action) {\n      const id = action.payload.id;\n      const blogFind = state.find(n => n.id === id);\n      const likeAdded = { ...blogFind,\n        likes: blogFind.likes + 1\n      };\n      return state.map(blog => blog.id !== id ? blog : likeAdded);\n    },\n\n    appendBlog(state, action) {\n      state.push(action.payload);\n    },\n\n    setBlogs(state, action) {\n      return action.payload;\n    }\n\n  }\n});\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogsService.getAll();\n    dispatch(setBlogs(blogs));\n  };\n};\nexport const selectAllBlogs = state => state.blogs;\nexport const createBlog = content => {\n  return async dispatch => {\n    const newBlog = await blogsService.createNew(content);\n    dispatch(appendBlog(newBlog));\n  };\n};\nexport const likeBlog = id => {\n  return async dispatch => {\n    const votable = await blogsService.addLike(id);\n    dispatch(like(votable));\n  };\n};\nexport const {\n  setBlogs,\n  like,\n  appendBlogs\n} = blogSlice.actions;\nexport default blogSlice.reducer;","map":{"version":3,"sources":["/Users/jererytkonen/Documents/GitHub/full-stack-open-2022/part7/bloglist/frontend/src/reducers/blogReducer.js"],"names":["createSlice","blogsService","blogSlice","name","initialState","reducers","like","state","action","id","payload","blogFind","find","n","likeAdded","likes","map","blog","appendBlog","push","setBlogs","initializeBlogs","dispatch","blogs","getAll","selectAllBlogs","createBlog","content","newBlog","createNew","likeBlog","votable","addLike","appendBlogs","actions","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AAGA,MAAMC,SAAS,GAAGF,WAAW,CAAE;AAC7BG,EAAAA,IAAI,EAAE,OADuB;AAE7BC,EAAAA,YAAY,EAAE,EAFe;AAG7BC,EAAAA,QAAQ,EAAE;AAERC,IAAAA,IAAI,CAACC,KAAD,EAAQC,MAAR,EAAgB;AAClB,YAAMC,EAAE,GAAGD,MAAM,CAACE,OAAP,CAAeD,EAA1B;AACA,YAAME,QAAQ,GAAGJ,KAAK,CAACK,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAACJ,EAAF,KAASA,EAAzB,CAAjB;AACA,YAAMK,SAAS,GAAG,EAChB,GAAGH,QADa;AACHI,QAAAA,KAAK,EAAEJ,QAAQ,CAACI,KAAT,GAAiB;AADrB,OAAlB;AAGA,aAAOR,KAAK,CAACS,GAAN,CAAUC,IAAI,IAClBA,IAAI,CAACR,EAAL,KAAYA,EAAZ,GAAiBQ,IAAjB,GAAwBH,SADpB,CAAP;AAGD,KAXO;;AAYRI,IAAAA,UAAU,CAACX,KAAD,EAAQC,MAAR,EAAgB;AACxBD,MAAAA,KAAK,CAACY,IAAN,CAAWX,MAAM,CAACE,OAAlB;AACD,KAdO;;AAeRU,IAAAA,QAAQ,CAACb,KAAD,EAAQC,MAAR,EAAgB;AACtB,aAAOA,MAAM,CAACE,OAAd;AACD;;AAjBO;AAHmB,CAAF,CAA7B;AAwBA,OAAO,MAAMW,eAAe,GAAG,MAAM;AACnC,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMC,KAAK,GAAG,MAAMtB,YAAY,CAACuB,MAAb,EAApB;AACAF,IAAAA,QAAQ,CAACF,QAAQ,CAACG,KAAD,CAAT,CAAR;AACD,GAHD;AAID,CALM;AAOP,OAAO,MAAME,cAAc,GAAGlB,KAAK,IAAKA,KAAK,CAACgB,KAAvC;AAEP,OAAO,MAAMG,UAAU,GAAGC,OAAO,IAAI;AACnC,SAAO,MAAML,QAAN,IAAkB;AACvB,UAAMM,OAAO,GAAG,MAAM3B,YAAY,CAAC4B,SAAb,CAAuBF,OAAvB,CAAtB;AACAL,IAAAA,QAAQ,CAACJ,UAAU,CAACU,OAAD,CAAX,CAAR;AACD,GAHD;AAID,CALM;AAOP,OAAO,MAAME,QAAQ,GAAIrB,EAAD,IAAQ;AAC9B,SAAO,MAAMa,QAAN,IAAkB;AACvB,UAAMS,OAAO,GAAG,MAAM9B,YAAY,CAAC+B,OAAb,CAAqBvB,EAArB,CAAtB;AACAa,IAAAA,QAAQ,CAAChB,IAAI,CAACyB,OAAD,CAAL,CAAR;AACD,GAHD;AAID,CALM;AASP,OAAO,MAAM;AAAEX,EAAAA,QAAF;AAAYd,EAAAA,IAAZ;AAAkB2B,EAAAA;AAAlB,IAAiC/B,SAAS,CAACgC,OAAjD;AACP,eAAehC,SAAS,CAACiC,OAAzB","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport blogsService from '../services/blogs'\n\n\nconst blogSlice = createSlice ({\n  name: 'blogs',\n  initialState: [],\n  reducers: {\n\n    like(state, action) {\n      const id = action.payload.id\n      const blogFind = state.find(n => n.id === id)\n      const likeAdded = {\n        ...blogFind, likes: blogFind.likes + 1\n      }\n      return state.map(blog =>\n        (blog.id !== id ? blog : likeAdded )\n      )\n    },\n    appendBlog(state, action) {\n      state.push(action.payload)\n    },\n    setBlogs(state, action) {\n      return action.payload\n    }\n  }\n})\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogsService.getAll()\n    dispatch(setBlogs(blogs))\n  }\n}\n\nexport const selectAllBlogs = state =>  state.blogs\n\nexport const createBlog = content => {\n  return async dispatch => {\n    const newBlog = await blogsService.createNew(content)\n    dispatch(appendBlog(newBlog))\n  }\n}\n\nexport const likeBlog = (id) => {\n  return async dispatch => {\n    const votable = await blogsService.addLike(id)\n    dispatch(like(votable))\n  }\n}\n\n\n\nexport const { setBlogs, like, appendBlogs} = blogSlice.actions\nexport default blogSlice.reducer"]},"metadata":{},"sourceType":"module"}